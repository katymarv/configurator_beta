{"version":3,"file":"servos.js","sources":["../src/js/tabs/servos.js"],"sourcesContent":["import { i18n } from \"../localization\";\nimport GUI, { TABS } from '../gui';\nimport { mspHelper } from \"../msp/MSPHelper\";\nimport FC from \"../fc\";\nimport MSP from \"../msp\";\nimport MSPCodes from \"../msp/MSPCodes\";\nimport { gui_log } from \"../gui_log\";\nimport $ from 'jquery';\n\nconst servos = {};\nservos.initialize = function (callback) {\n\n    if (GUI.active_tab !== 'servos') {\n        GUI.active_tab = 'servos';\n    }\n\n    function get_servo_configurations() {\n        MSP.send_message(MSPCodes.MSP_SERVO_CONFIGURATIONS, false, false, get_servo_mix_rules);\n    }\n\n    function get_servo_mix_rules() {\n        MSP.send_message(MSPCodes.MSP_SERVO_MIX_RULES, false, false, get_rc_data);\n    }\n\n    function get_rc_data() {\n        MSP.send_message(MSPCodes.MSP_RC, false, false, get_boxnames_data);\n    }\n\n    function get_boxnames_data() {\n        MSP.send_message(MSPCodes.MSP_BOXNAMES, false, false, load_html);\n    }\n\n    function load_html() {\n        $('#content').load(\"./tabs/servos.html\", process_html);\n    }\n    get_servo_configurations();\n\n    function update_ui() {\n\n        if (FC.SERVO_CONFIG.length === 0) {\n\n            $(\".tab-servos\").removeClass(\"supported\");\n            return;\n        }\n\n        $(\".tab-servos\").addClass(\"supported\");\n\n        let servoCheckbox = '';\n        let servoHeader = '';\n        for (let i = 0; i < FC.RC.active_channels-4; i++) {\n            servoHeader += `<th>A${(i+1)}</th>`;\n        }\n        servoHeader += '<th style=\"width: 110px\" i18n=\"servosRateAndDirection\"></th>';\n\n        for (let i = 0; i < FC.RC.active_channels; i++) {\n            servoCheckbox += `<td class=\"channel\"><input type=\"checkbox\"/></td>`;\n        }\n\n        $('div.tab-servos table.fields tr.main').append(servoHeader);\n\n        /*\n        *  function: void process_servos(string, object)\n        */\n\n        function process_servos(name, obj) {\n\n            $('div.supported_wrapper').show();\n\n            const subElement = `<input type=\"number\" min=\"500\" max=\"2500\" value=\"`;\n\n            let element = `<tr><td style=\"text-align: center\">${name}</td>`;\n            element += `<td class=\"min\">${subElement}${FC.SERVO_CONFIG[obj].min}\" /></td>`;\n            element += `<td class=\"middle\">${subElement}${FC.SERVO_CONFIG[obj].middle}\" /></td>`;\n            element += `<td class=\"max\">${subElement}${FC.SERVO_CONFIG[obj].max}\" /></td>`;\n            element += `${servoCheckbox}<td class=\"direction\"></td></tr>`;\n\n            $('div.tab-servos table.fields').append(element);\n\n            if (FC.SERVO_CONFIG[obj].indexOfChannelToForward >= 0) {\n                $('div.tab-servos table.fields tr:last td.channel input').eq(FC.SERVO_CONFIG[obj].indexOfChannelToForward).prop('checked', true);\n            }\n\n            // adding select box and generating options\n            $('div.tab-servos table.fields tr:last td.direction').append('<select class=\"rate\" name=\"rate\"></select>');\n\n            const select = $('div.tab-servos table.fields tr:last td.direction select');\n\n            let rateLabel = i18n.getMessage('servosRate');\n            for (let i = 100; i > -101; i--) {\n                select.append(`<option value=\"${i}\">${rateLabel} ${i}%</option>`);\n            }\n\n            // select current rate\n            select.val(FC.SERVO_CONFIG[obj].rate);\n\n            $('div.tab-servos table.fields tr:last').data('info', {'obj': obj});\n\n            // UI hooks\n\n            // only one checkbox for indicating a channel to forward can be selected at a time, perhaps a radio group would be best here.\n            $('div.tab-servos table.fields tr:last td.channel input').click(function () {\n                if($(this).is(':checked')) {\n                    $(this).parent().parent().find('.channel input').not($(this)).prop('checked', false);\n                }\n            });\n        }\n\n        /*\n        *  function: void servos_update(boolean)\n        */\n\n        function servos_update(save_configuration_to_eeprom) {\n            $('div.tab-servos table.fields tr:not(\".main\")').each(function () {\n                const info = $(this).data('info');\n                const selection = $('.channel input', this);\n\n                let channelIndex = parseInt(selection.index(selection.filter(':checked')));\n                if (channelIndex === -1) {\n                    channelIndex = undefined;\n                }\n\n                FC.SERVO_CONFIG[info.obj].indexOfChannelToForward = channelIndex;\n\n\n                FC.SERVO_CONFIG[info.obj].middle = parseInt($('.middle input', this).val());\n                FC.SERVO_CONFIG[info.obj].min = parseInt($('.min input', this).val());\n                FC.SERVO_CONFIG[info.obj].max = parseInt($('.max input', this).val());\n\n                const val = parseInt($('.direction select', this).val());\n                FC.SERVO_CONFIG[info.obj].rate = val;\n            });\n\n            //\n            // send data to FC\n            //\n            mspHelper.sendServoConfigurations(send_servo_mixer_rules);\n\n            function send_servo_mixer_rules() {\n                mspHelper.sendServoConfigurations(save_to_eeprom);\n            }\n\n            function save_to_eeprom() {\n                if (save_configuration_to_eeprom) {\n                    mspHelper.writeConfiguration(function () {\n                        gui_log(i18n.getMessage('servosEepromSave'));\n                    });\n                }\n            }\n\n        }\n\n        // drop previous table\n        $('div.tab-servos table.fields tr:not(:first)').remove();\n\n        // let's reflect CLI here to number servo's 1-8 instead of 0-7\n        for (let servoIndex = 0; servoIndex < 8; servoIndex++) {\n            process_servos(`Servo ${servoIndex+1}`, servoIndex);\n        }\n\n        const servosWrapper = $('.servos .bar-wrapper');\n\n        for (let i = 0; i < 8; i++) {\n            servosWrapper.append(`\\\n                    <div class=\"m-block servo-${(7 - i)}\">\\\n                    <div class=\"meter-bar\">\\\n                    <div class=\"label\"></div>\\\n                    <div class=\"indicator\">\\\n                    <div class=\"label\">\\\n                    <div class=\"label\"></div>\\\n                    </div>\\\n                    </div>\\\n                    </div>\\\n                    </div>\\\n            `);\n        }\n\n        const rangeMin = 1000;\n        const rangeMax = 2000;\n\n        $('div.values li:not(:last)').text(rangeMin);\n\n        /*\n        *  void test_update(void);\n        */\n\n        function test_update() {\n\n            const blockHeight = 100;\n            const fullBlockScale = rangeMax - rangeMin;\n\n            for (let i = 0; i < FC.SERVO_DATA.length; i++) {\n\n                const servoValue = FC.SERVO_DATA[i];\n                const barHeight = servoValue - rangeMin;\n                const marginTop = blockHeight - (barHeight * (blockHeight / fullBlockScale)).clamp(0, blockHeight);\n                const height = (barHeight * (blockHeight / fullBlockScale)).clamp(0, blockHeight);\n                const color = parseInt(barHeight * 0.009);\n\n                $(`.servo-${i} .label`, servosWrapper).text(servoValue);\n                $(`.servo-${i} .indicator`, servosWrapper).css({\n                    'margin-top' : `${marginTop}px`,\n                    'height' : `${height}px`,\n                    'background-color' : `rgba(255,187,0,1${color})`,\n                });\n            }\n        }\n\n        function get_servo_data() {\n            MSP.send_message(MSPCodes.MSP_SERVO, false, false, test_update);\n        }\n\n        // UI hooks for dynamically generated elements\n        GUI.interval_add('servo_data_pull_and_test_update', get_servo_data, 50);\n\n        $('table.directions select, table.directions input, table.fields select, table.fields input').change(function () {\n            if ($('div.live input').is(':checked')) {\n                // apply small delay as there seems to be some funky update business going wrong\n                GUI.timeout_add('servos_update', servos_update, 10);\n            }\n        });\n\n        $('a.update').click(function () {\n            servos_update(true);\n        });\n\n    }\n\n    function process_html() {\n\n        update_ui();\n\n        // translate to user-selected language\n        i18n.localizePage();\n\n        // status data pulled via separate timer with static speed\n        GUI.interval_add('status_pull', function () {\n            MSP.send_message(MSPCodes.MSP_STATUS);\n        }, 250, true);\n\n        GUI.content_ready(callback);\n    }\n};\n\nservos.cleanup = function (callback) {\n    if (callback) {\n        callback();\n    }\n};\n\nTABS.servos = servos;\nexport {\n    servos,\n};\n"],"names":[],"mappings":"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"}