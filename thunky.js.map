{"version":3,"file":"thunky.js","sources":["../node_modules/thunky/index.js"],"sourcesContent":["'use strict'\n\nvar nextTick = nextTickArgs\nprocess.nextTick(upgrade, 42) // pass 42 and see if upgrade is called with it\n\nmodule.exports = thunky\n\nfunction thunky (fn) {\n  var state = run\n  return thunk\n\n  function thunk (callback) {\n    state(callback || noop)\n  }\n\n  function run (callback) {\n    var stack = [callback]\n    state = wait\n    fn(done)\n\n    function wait (callback) {\n      stack.push(callback)\n    }\n\n    function done (err) {\n      var args = arguments\n      state = isError(err) ? run : finished\n      while (stack.length) finished(stack.shift())\n\n      function finished (callback) {\n        nextTick(apply, callback, args)\n      }\n    }\n  }\n}\n\nfunction isError (err) { // inlined from util so this works in the browser\n  return Object.prototype.toString.call(err) === '[object Error]'\n}\n\nfunction noop () {}\n\nfunction apply (callback, args) {\n  callback.apply(null, args)\n}\n\nfunction upgrade (val) {\n  if (val === 42) nextTick = process.nextTick\n}\n\nfunction nextTickArgs (fn, a, b) {\n  process.nextTick(function () {\n    fn(a, b)\n  })\n}\n"],"names":[],"mappings":"AAEA,IAAI,QAAQ,GAAG,aAAY;AAC3B,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE,EAAC;AAC7B;AACA,IAAA,QAAc,GAAG,OAAM;AACvB;AACA,SAAS,MAAM,EAAE,EAAE,EAAE;AACrB,EAAE,IAAI,KAAK,GAAG,IAAG;AACjB,EAAE,OAAO,KAAK;AACd;AACA,EAAE,SAAS,KAAK,EAAE,QAAQ,EAAE;AAC5B,IAAI,KAAK,CAAC,QAAQ,IAAI,IAAI,EAAC;AAC3B,GAAG;AACH;AACA,EAAE,SAAS,GAAG,EAAE,QAAQ,EAAE;AAC1B,IAAI,IAAI,KAAK,GAAG,CAAC,QAAQ,EAAC;AAC1B,IAAI,KAAK,GAAG,KAAI;AAChB,IAAI,EAAE,CAAC,IAAI,EAAC;AACZ;AACA,IAAI,SAAS,IAAI,EAAE,QAAQ,EAAE;AAC7B,MAAM,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAC;AAC1B,KAAK;AACL;AACA,IAAI,SAAS,IAAI,EAAE,GAAG,EAAE;AACxB,MAAM,IAAI,IAAI,GAAG,UAAS;AAC1B,MAAM,KAAK,GAAG,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,SAAQ;AAC3C,MAAM,OAAO,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,KAAK,CAAC,KAAK,EAAE,EAAC;AAClD;AACA,MAAM,SAAS,QAAQ,EAAE,QAAQ,EAAE;AACnC,QAAQ,QAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAC;AACvC,OAAO;AACP,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA,SAAS,OAAO,EAAE,GAAG,EAAE;AACvB,EAAE,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,gBAAgB;AACjE,CAAC;AACD;AACA,SAAS,IAAI,IAAI,EAAE;AACnB;AACA,SAAS,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE;AAChC,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAC;AAC5B,CAAC;AACD;AACA,SAAS,OAAO,EAAE,GAAG,EAAE;AACvB,EAAE,IAAI,GAAG,KAAK,EAAE,EAAE,QAAQ,GAAG,OAAO,CAAC,SAAQ;AAC7C,CAAC;AACD;AACA,SAAS,YAAY,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE;AACjC,EAAE,OAAO,CAAC,QAAQ,CAAC,YAAY;AAC/B,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,EAAC;AACZ,GAAG,EAAC;AACJ;;;;","x_google_ignoreList":[0]}