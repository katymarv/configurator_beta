{"version":3,"file":"Clipboard.js","sources":["../src/js/Clipboard.js"],"sourcesContent":["import GUI from './gui.js';\n\n/**\n * Encapsulates the Clipboard logic, depending on web or nw\n *\n */\nconst Clipboard = {\n    _nwClipboard: null,\n    available : null,\n    readAvailable : null,\n    writeAvailable : null,\n    writeText : null,\n    readText : null,\n};\n\nClipboard._configureClipboardAsNwJs = function(nwGui) {\n\n    console.log('NW GUI Clipboard available');\n\n    this.available = true;\n    this.readAvailable = true;\n    this.writeAvailable = true;\n    this._nwClipboard = nwGui.Clipboard.get();\n\n    this.writeText = function(text, onSuccess, onError) {\n        try {\n\n            this._nwClipboard.set(text, \"text\");\n\n        } catch (err) {\n            if (onError) {\n                onError(err);\n            }\n        }\n\n        if (onSuccess) {\n            onSuccess(text);\n        }\n    };\n\n    this.readText = function(onSuccess, onError) {\n\n        let text = '';\n        try {\n\n            text = this._nwClipboard.get(\"text\");\n\n        } catch (err) {\n            if (onError) {\n                onError(err);\n            }\n        }\n\n        if (onSuccess) {\n            onSuccess(text);\n        }\n    };\n};\n\nClipboard._configureClipboardAsCordova = function() {\n\n    console.log('Cordova Clipboard available');\n\n    this.available = true;\n    this.readAvailable = true;\n    this.writeAvailable = true;\n\n    this.writeText = function(text, onSuccess, onError) {\n        cordova.plugins.clipboard.copy(text, onSuccess, onError);\n    };\n\n    this.readText = function(onSuccess, onError) {\n        cordova.plugins.clipboard.paste(onSuccess, onError);\n    };\n\n};\n\nClipboard._configureClipboardAsOther = function() {\n\n    console.warn('NO Clipboard available');\n\n    this.available = false;\n    this.readAvailable = false;\n    this.writeAvailable = false;\n\n    this.writeText = function(text, onSuccess, onError) {\n        onError('Clipboard not available');\n    };\n\n    this.readText = function(onSuccess, onError) {\n        onError('Clipboard not available');\n    };\n};\n\nif (GUI.isNWJS()){\n    Clipboard._configureClipboardAsNwJs(GUI.nwGui);\n} else if (GUI.isCordova()) {\n    Clipboard._configureClipboardAsCordova();\n} else {\n    Clipboard._configureClipboardAsOther();\n}\n\nexport default Clipboard;\n"],"names":[],"mappings":"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"}