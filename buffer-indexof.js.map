{"version":3,"file":"buffer-indexof.js","sources":["../node_modules/buffer-indexof/index.js"],"sourcesContent":["module.exports = function bufferIndexOf(buff, search, offset, encoding){\n  if (!Buffer.isBuffer(buff)) {\n    throw TypeError('buffer is not a buffer');\n  }\n\n  // allow optional offset when providing an encoding\n  if (encoding === undefined && typeof offset === 'string') {\n    encoding = offset;\n    offset = undefined;\n  }\n\n  if (typeof search === 'string') {\n    search = new Buffer(search, encoding || 'utf8');\n  } else if (typeof search === 'number' && !isNaN(search)) {\n    search = new Buffer([search])\n  } else if (!Buffer.isBuffer(search)) {\n    throw TypeError('search is not a bufferable object');\n  }\n\n  if (search.length === 0) {\n    return -1;\n  }\n\n  if (offset === undefined || (typeof offset === 'number' && isNaN(offset))) {\n    offset = 0;\n  } else if (typeof offset !== 'number') {\n    throw TypeError('offset is not a number');\n  }\n\n  if (offset < 0) {\n    offset = buff.length + offset\n  }\n\n  if (offset < 0) {\n    offset = 0;\n  }\n\n  var m = 0;\n  var s = -1;\n\n  for (var i = offset; i < buff.length ; ++i) {\n    if(buff[i] != search[m]){\n      s = -1;\n      // <-- go back\n      // match abc to aabc\n      // 'aabc'\n      // 'aab'\n      //    ^ no match\n      // a'abc'\n      //   ^ set index here now and look at these again.\n      //   'abc' yay!\n      i -= m-1\n      m = 0;\n    }\n\n    if(buff[i] == search[m]) {\n      if(s == -1) {\n        s = i;\n      }\n      ++m;\n      if(m == search.length) {\n        break;\n      }\n    }\n  }\n\n  if (s > -1 && buff.length - s < search.length) {\n    return -1;\n  }\n  return s;\n}\n\n\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}