{"version":3,"file":"adjustments.js","sources":["../src/js/tabs/adjustments.js"],"sourcesContent":["import { i18n } from '../localization';\nimport GUI, { TABS } from '../gui';\nimport { mspHelper } from '../msp/MSPHelper';\nimport MSP from '../msp';\nimport FC from '../fc';\nimport MSPCodes from '../msp/MSPCodes';\nimport { API_VERSION_1_42 } from '../data_storage';\nimport { gui_log } from '../gui_log';\nimport semver from 'semver';\nimport $ from 'jquery';\n\nconst adjustments = {};\n\nadjustments.initialize = function (callback) {\n    const self = this;\n    GUI.active_tab_ref = this;\n    GUI.active_tab = 'adjustments';\n\n    function get_adjustment_ranges() {\n        MSP.send_message(MSPCodes.MSP_ADJUSTMENT_RANGES, false, false, get_box_ids);\n    }\n\n    function get_box_ids() {\n        MSP.send_message(MSPCodes.MSP_BOXIDS, false, false, getRcData);\n    }\n\n    function getRcData() {\n        MSP.send_message(MSPCodes.MSP_RC, false, false, load_html);\n    }\n\n    function load_html() {\n        $('#content').load(\"./tabs/adjustments.html\", process_html);\n    }\n\n    MSP.send_message(MSPCodes.MSP_BOXNAMES, false, false, get_adjustment_ranges);\n\n    function addAdjustment(adjustmentIndex, adjustmentRange, auxChannelCount) {\n\n        const template = $('#tab-adjustments-templates .adjustments .adjustment');\n        const newAdjustment = template.clone();\n\n        $(newAdjustment).attr('id', `adjustment-${adjustmentIndex}`);\n        $(newAdjustment).data('index', adjustmentIndex);\n\n        //\n        // update selected slot\n        //\n\n        if (semver.lt(FC.CONFIG.apiVersion, API_VERSION_1_42)) {\n            const adjustmentList = $(newAdjustment).find('.adjustmentSlot .slot');\n            adjustmentList.val(adjustmentRange.slotIndex);\n        }\n\n        //\n        // populate source channel select box\n        //\n\n        const channelList = $(newAdjustment).find('.channelInfo .channel');\n        const channelOptionTemplate = $(channelList).find('option');\n        channelOptionTemplate.remove();\n        for (let channelIndex = 0; channelIndex < auxChannelCount; channelIndex++) {\n            const channelOption = channelOptionTemplate.clone();\n            channelOption.text(`AUX ${channelIndex + 1}`);\n            channelOption.val(channelIndex);\n            channelList.append(channelOption);\n        }\n        channelList.val(adjustmentRange.auxChannelIndex);\n\n        //\n        // update selected function\n        //\n\n        const functionList = $(newAdjustment).find('.functionSelection .function');\n        // update list of selected functions\n\n        functionList.val(adjustmentRange.adjustmentFunction);\n\n        //\n        // populate function channel select box\n        //\n\n        const switchList = $(newAdjustment).find('.functionSwitchChannel .channel');\n        const switchOptionTemplate = $(switchList).find('option');\n        switchOptionTemplate.remove();\n        let switchOption;\n        for (let switchIndex = 0; switchIndex < auxChannelCount; switchIndex++) {\n            switchOption = switchOptionTemplate.clone();\n            switchOption.text(`AUX ${switchIndex + 1}`);\n            switchOption.val(switchIndex);\n            switchList.append(switchOption);\n        }\n        switchList.val(adjustmentRange.auxSwitchChannelIndex);\n\n        //\n        // configure range\n        //\n\n        const channel_range = {\n                'min': [  900 ],\n                'max': [ 2100 ],\n            };\n\n        let rangeValues = [1300, 1700];\n        if (adjustmentRange.range != undefined) {\n            rangeValues = [adjustmentRange.range.start, adjustmentRange.range.end];\n        }\n\n        let rangeElement = $(newAdjustment).find('.range');\n\n        $(rangeElement).find('.channel-slider').noUiSlider({\n            start: rangeValues,\n            behaviour: 'snap-drag',\n            margin: 25,\n            step: 25,\n            connect: true,\n            range: channel_range,\n            format: wNumb({\n                decimals: 0,\n            }),\n        });\n\n        $(newAdjustment).find('.channel-slider').Link('lower').to($(newAdjustment).find('.lowerLimitValue'));\n        $(newAdjustment).find('.channel-slider').Link('upper').to($(newAdjustment).find('.upperLimitValue'));\n\n        $(rangeElement).find(\".pips-channel-range\").noUiSlider_pips({\n            mode: 'values',\n            values: [900, 1000, 1200, 1400, 1500, 1600, 1800, 2000, 2100],\n            density: 4,\n            stepped: true,\n        });\n\n        //\n        // add the enable/disable behavior\n        //\n\n        const enableElement = $(newAdjustment).find('.enable');\n        $(enableElement).data('adjustmentElement', newAdjustment);\n        $(enableElement).change(function() {\n            const adjustmentElement = $(this).data('adjustmentElement');\n            if ($(this).prop(\"checked\")) {\n                $(adjustmentElement).find(':input').prop(\"disabled\", false);\n                $(adjustmentElement).find('.channel-slider').removeAttr(\"disabled\");\n                rangeElement = $(adjustmentElement).find('.range .channel-slider');\n                const range = $(rangeElement).val();\n                if (range[0] == range[1]) {\n                    const defaultRangeValues = [1300, 1700];\n                    $(rangeElement).val(defaultRangeValues);\n                }\n            } else {\n                $(adjustmentElement).find(':input').prop(\"disabled\", true);\n                $(adjustmentElement).find('.channel-slider').attr(\"disabled\", \"disabled\");\n            }\n\n            // keep this element enabled\n            $(this).prop(\"disabled\", false);\n        });\n\n        const isEnabled = (adjustmentRange?.range?.start !== adjustmentRange?.range?.end);\n        $(enableElement).prop(\"checked\", isEnabled).change();\n\n        return newAdjustment;\n    }\n\n    function process_html() {\n\n        self.adjust_template();\n\n        let auxChannelCount = FC.RC.active_channels - 4;\n\n        const modeTableBodyElement = $('.tab-adjustments .adjustments tbody');\n        for (let adjustmentIndex = 0; adjustmentIndex < FC.ADJUSTMENT_RANGES.length; adjustmentIndex++) {\n            const newAdjustment = addAdjustment(adjustmentIndex, FC.ADJUSTMENT_RANGES[adjustmentIndex], auxChannelCount);\n            modeTableBodyElement.append(newAdjustment);\n        }\n\n\n        if (semver.gte(FC.CONFIG.apiVersion, API_VERSION_1_42)) {\n            $('.tab-adjustments .adjustmentSlotsHelp').hide();\n            $('.tab-adjustments .adjustmentSlotHeader').hide();\n            $('.tab-adjustments .adjustmentSlot').hide();\n        }\n\n        // translate to user-selected language\n        i18n.localizePage();\n\n        // UI Hooks\n        $('a.save').click(function () {\n\n            // update internal data structures based on current UI elements\n            const requiredAdjustmentRangeCount = FC.ADJUSTMENT_RANGES.length;\n\n            FC.ADJUSTMENT_RANGES = [];\n\n            const defaultAdjustmentRange = {\n                slotIndex: 0,\n                auxChannelIndex: 0,\n                range: {\n                    start: 900,\n                    end: 900,\n                },\n                adjustmentFunction: 0,\n                auxSwitchChannelIndex: 0,\n            };\n\n            $('.tab-adjustments .adjustments .adjustment').each(function () {\n                const adjustmentElement = $(this);\n\n                if ($(adjustmentElement).find('.enable').prop(\"checked\")) {\n                    const rangeValues = $(this).find('.range .channel-slider').val();\n                    let slotIndex = 0;\n                    if (semver.lt(FC.CONFIG.apiVersion, API_VERSION_1_42)) {\n                        slotIndex = parseInt($(this).find('.adjustmentSlot .slot').val());\n                    }\n\n                    const adjustmentRange = {\n                        slotIndex: slotIndex,\n                        auxChannelIndex: parseInt($(this).find('.channelInfo .channel').val()),\n                        range: {\n                            start: rangeValues[0],\n                            end: rangeValues[1],\n                        },\n                        adjustmentFunction: parseInt($(this).find('.functionSelection .function').val()),\n                        auxSwitchChannelIndex: parseInt($(this).find('.functionSwitchChannel .channel').val()),\n                    };\n                    FC.ADJUSTMENT_RANGES.push(adjustmentRange);\n                } else {\n                    FC.ADJUSTMENT_RANGES.push(defaultAdjustmentRange);\n                }\n            });\n\n            for (let adjustmentRangeIndex = FC.ADJUSTMENT_RANGES.length; adjustmentRangeIndex < requiredAdjustmentRangeCount; adjustmentRangeIndex++) {\n                FC.ADJUSTMENT_RANGES.push(defaultAdjustmentRange);\n            }\n\n            //\n            // send data to FC\n            //\n            mspHelper.sendAdjustmentRanges(save_to_eeprom);\n\n            function save_to_eeprom() {\n                MSP.send_message(MSPCodes.MSP_EEPROM_WRITE, false, false, function () {\n                    gui_log(i18n.getMessage('adjustmentsEepromSaved'));\n                });\n            }\n\n        });\n\n        function update_marker(auxChannelIndex, channelPosition) {\n            if (channelPosition < 900) {\n                channelPosition = 900;\n            } else if (channelPosition > 2100) {\n                channelPosition = 2100;\n            }\n            const percentage = (channelPosition - 900) / (2100-900) * 100;\n\n            $('.adjustments .adjustment').each( function () {\n                const auxChannelCandidateIndex = $(this).find('.channel').val();\n                if (auxChannelCandidateIndex != auxChannelIndex) {\n                    return;\n                }\n\n                $(this).find('.range .marker').css('left', `${percentage}%`);\n            });\n        }\n\n        // data pulling functions used inside interval timer\n        function get_rc_data() {\n            MSP.send_message(MSPCodes.MSP_RC, false, false, update_ui);\n        }\n\n        function update_ui() {\n            auxChannelCount = FC.RC.active_channels - 4;\n\n            for (let auxChannelIndex = 0; auxChannelIndex < auxChannelCount; auxChannelIndex++) {\n                update_marker(auxChannelIndex, FC.RC.channels[auxChannelIndex + 4]);\n            }\n        }\n\n        // update ui instantly on first load\n        update_ui();\n\n        // enable data pulling\n        GUI.interval_add('aux_data_pull', get_rc_data, 50);\n\n        GUI.content_ready(callback);\n    }\n};\n\nadjustments.cleanup = function (callback) {\n    if (callback) callback();\n};\n\nadjustments.adjust_template = function () {\n    const selectFunction = $('#functionSelectionSelect');\n    const elementsNumber = 31; // 'LED Profile Select' are the last adjustmentsFunction\n\n    for (let i = 0; i < elementsNumber; i++) {\n        selectFunction.append(new Option(i18n.getMessage(`adjustmentsFunction${i}`), i));\n    }\n\n    // Sort the element, if need to group, do it by lexical sort, ie. by naming of (the translated) selection text\n    selectFunction.sortSelect(i18n.getMessage(\"adjustmentsFunction0\"));\n};\n\nTABS.adjustments = adjustments;\nexport {\n    adjustments,\n};\n"],"names":[],"mappings":"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"}